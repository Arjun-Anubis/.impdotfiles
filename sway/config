# Modifiers
set $mod Mod4
set $alt Mod1

floating_modifier $mod
workspace_layout default

# Appearance
gaps inner 0
gaps outer 0
smart_gaps on

hide_edge_borders smart
popup_during_fullscreen smart

default_border pixel 1
default_floating_border pixel 1

client.focused #353439 #9FEE00 #7B9F35
focus_follows_mouse yes

font pango:Jet Brains Mono 9
font pango:Mangal Regular 9

input "type:keyboard" {
    xkb_options caps:escape
	xkb_layout us
}  
  
# Workspaces
set {
	$ws9 "9:Images"
	$ws8 "8:Audacity"
	$ws7 "7:Music"
	$ws6 "6:Mail"
	$ws5 "5:Discord"
	$ws4 "4:Obsidian"
	$ws3 "3:Browser"
	$ws2 "2:Social"
	$ws1 "1:Playground"
}

bindsym {
	# Workspace via keypad
	mod2+KP_1 workspace number $ws1
	mod2+KP_2 workspace number $ws2
	mod2+KP_3 workspace number $ws3
	mod2+KP_4 workspace number $ws4
	mod2+KP_5 workspace number $ws5
	mod2+KP_6 workspace number $ws6
	mod2+KP_7 workspace number $ws7
	mod2+KP_8 workspace number $ws8
	mod2+KP_9 workspace number $ws9

	# Workspace via Win + number
	$mod+1 workspace number $ws1
	$mod+2 workspace number $ws2
	$mod+3 workspace number $ws3
	$mod+4 workspace number $ws4
	$mod+5 workspace number $ws5
	$mod+6 workspace number $ws6
	$mod+7 workspace number $ws7
	$mod+8 workspace number $ws8
	$mod+9 workspace number $ws9

	# Move container to workspace throught Win + Shift + Number
	$mod+shift+1 move container to workspace number $ws1
	$mod+shift+2 move container to workspace number $ws2
	$mod+shift+3 move container to workspace number $ws3
	$mod+shift+4 move container to workspace number $ws4
	$mod+shift+5 move container to workspace number $ws5
	$mod+shift+6 move container to workspace number $ws6
	$mod+shift+7 move container to workspace number $ws7
	$mod+shift+8 move container to workspace number $ws8
	$mod+shift+9 move container to workspace number $ws9


	# Focus window with Win + h,j,k,l
	$mod+k focus up
	$mod+j focus down
	$mod+h focus left
	$mod+l focus right

	# Move windows with Win + Shift + h,j,k,l
	$mod+shift+k move up
	$mod+shift+j move down
	$mod+shift+h move left
	$mod+shift+l move right

	# Orientation, Fullscreen, Floating
	$mod+v split vertical
	$mod+g split horizontal
	$mod+f fullscreen toggle
	$mod+Shift+space floating toggle

	# Core necessities
	$mod+Return exec kitty
	$alt+space exec dmenu_extended_run -b -l 35

	# Window Close, Force close
	$mod+shift+q [con_id="__focused__"] kill
	$mod+$alt+q [con_id="__focused__"] exec --no-startup-id kill -9 $(xdotool getwindowfocus getwindowpid)

	# Reload(not working), Exit
	$mod+shift+r restart
	$mod+shift+e exec swaymsg exit

	# Power
	ctrl+$alt+Delete       exec reboot
	ctrl+$alt+shift+Delete exec poweroff

	# Audio
	XF86AudioRaiseVolume exec pactl -- set-sink-volume 0 +5% 
	XF86AudioLowerVolume exec pactl -- set-sink-volume 0 -5%
	XF86AudioMute        exec pactl set-sink-mute 0 toggle

	XF86AudioPlay exec mpc toggle
	XF86AudioNext exec mpc next
	XF86AudioPrev exec mpc prev
	XF86AudioStop exec mpc stop

	KP_Divide  exec playerctl -p spotify previous
	KP_Multiply  exec playerctl -p spotify play-pause
	KP_Subtract  exec playerctl -p spotify next

	#----------------------------------------------------------------------------------------------------------#
	#--------------------------End of necessities--------------------------------------------------------------#
	#----------------------------------------------------------------------------------------------------------#

	# ROFI Scripts
	$mod+b exec rofi-bluetooth
	$mod+m exec rofimoji -f emojis math -a clipboard

	# Browsers
	$alt+shift+w exec qutebrowser
	$mod+shift+a exec qutebrowser -B ~/qutebrowser_environments/whatsapp_local/ --config-py ~/.config/qutebrowser/config.py

	# Misc programs
	$mod+shift+d exec simple-scan
	$mod+shift+v exec nvide
 
	# Dropdowns
	# tdrop( Rough, but functional )
	$alt+Tab     exec tdrop -ma  -x 0   -y 0 -w 100% -h 50% -n 3 kitty
	$alt+shift+r exec tdrop -ma  -x 12% -y 0 -w 75% -h 100% -n 1 zathura

	# Widgets
	$mod+Tab exec eww open bars

	# Notifications
	$mod+Shift+n exec dunstctl history-pop
	$mod+Shift+p exec dunstctl set-pause
	$mod+n exec dunstctl close
	$mod+c exec dunstctl close-all

	# Screenshot
	$mod+shift+s exec ~/.local/bin/ss portion
	$alt+shift+s exec ~/.local/bin/ss 

}


# Execute on Reload
exec_always --no-startup-id {
	dunst --startup_notification
	dbus-update-activation-environment --systemd --all
}

# Startup Applications
exec {
	mailspring
	discord 
	qutebrowser --qt-arg name main_browser
	qutebrowser -B ~/qutebrowser_environments/whatsapp_local/ --config-py ~/.config/qutebrowser/config.py web.whatsapp.com
	obsidian 
	spotify
	gimp
	kitty --name Core
	kitty --name ddterminal 
}

for_window {
	[class="floating_window"] floating enable
	[class="floating"] floating enable	

	[instance="ddterminal"] floating enable
	[instance="ddterminal"] sticky enable
	[instance="ddterminal"] focus

	[title=".*Main Browser"]  move to workspace number $ws3
	[title=".*Social"]  move to workspace number $ws2
	[class="audacity"]  move to workspace number $ws8
	[class="Gimp"]  move to workspace number $ws9
	[class="obsidian"] move to workspace number $ws4
	[class="discord"] move to workspace number $ws5
	[class="Spotify"] move to workspace number $ws7
	[class="Mailspring"] move to workspace number $ws6
	[instance="ddterminal"] move to scratchpad
	[instance="music"] move to scratchpad
}
